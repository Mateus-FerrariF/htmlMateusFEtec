<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Pet Shop</title>
        <link rel="stylesheet" href="../css/styleserviços.css">
        <meta name="viewport" content="width=device-width", initial-scale="1.0">
    </head>

    <body>

        <nav id="menu-principal" class="cima1">
            <ul>
                <canvas id="myCanvas" width="300" height="150" >Logo</canvas>
                <li><a href="../index.html">Home</a></li>
                <li><a href="../pages/produtos.html">Produtos</a></li>
                <li><a href="../pages/Serviços.html">Serviços</a></li>
                <li><a href="https://landingpage.petz.com.br/banho-e-tosa/">Banho&Tosa</a></li>
                <li><a href="../pages/agendar.html">Agendar</a></li>
            </ul>
        </nav>
    
        <header id="header-principal" class="cima1">
            <div>
                <h1>Petshop - Agendar</h1>
            </div>
        </header>
    
        <div class="precos-tb">
            <h1>Preços</h1>
        </div>
        <div class="precos">
            <table>
                <tr>
                    <th>Serviço</th>
                    <th>Preço</th>
                </tr>
                <tr>
                    <td>Banho</td>
                    <td>R$ 50,00</td>
                </tr>
                <tr>
                    <td>Tosa</td>
                    <td>R$ 70,00</td>
                </tr>
                <tr>
                    <td>Banho & Tosa</td>
                    <td>R$ 100,00</td>
                </tr>
                <tr>
                    <td>Castração macho/femêa</td>
                    <td>R$ 450,00</td>
                <tr>
                    <tr>
                        <td>Vacinação</td>
                        <td>R$ 30,00</td>
                    </tr>
            </table>
            
        <div class="formulariocadastro">
            <form action="#" method="post">
                <h2>Cadastro de Cliente</h2>
                <label for="nome">Nome:</label>
                <input type="text" id="nome" name="nome" required>
                
                <label for="email">E-mail:</label>
                <input type="email" id="email" name="email" required>
                
                <label for="telefone">Telefone:</label>
                <input type="tel" id="telefone" name="telefone" required>
                
                <label for="servico">Serviço Desejado:</label>
                <select id="servico" name="servico" required>
                    <option value="banho">Banho</option>
                    <option value="tosa">Tosa</option>
                    <option value="banho-tosa">Banho & Tosa</option>
                    <option value="castracao">Castração</option>
                    <option value="vacina">Vacinação</option>
                </select>
                
                <label for="data">Data:</label>
                <input type="date" id="data" name="data" required>

                <h2>Cadastro do PET</h2>
                <label for="nomePet">Nome do PET:</label>
                <input type="text" id="nomePet" name="nomePet" required>

                <label for="nascimentoPet">Data de Nascimento do pet:</label>
                <input type="date" id="nascimentoPet" name="nascimentoPet" required>

                <label for="tipoPet">Animal:</label>
                <select id="tipoPet" name="tipoPet" required>
                    <option value="Gato">Gato</option>
                    <option value="Cachorro">Cachorro</option>
                    <option value="Pinguim">Pinguim</option>
                </select>
                
                <button type="submit">Agendar</button>
            </form>
        </div>

        <div style="display: flex; justify-content: center; align-items: center; flex-direction: column;">
            <h1>Geolocalização</h1>
            <button onclick="getLocation()" id="localizacao" style="height:60px;width:20%;">Localizar</button>
            <div id="mapa" style="margin-top:20px; width:90vw; max-width:600px;">
                <!-- O mapa será inserido aqui -->
            </div>
        </div>

        <script>
            function getLocation() {
              if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition, showError);
              } else {
                document.getElementById("localizacao").innerHTML = "Geolocalização não é suportada pelo seu navegador.";
              }
            }
        
            function showPosition(position) {
              const lat = position.coords.latitude;
              const lon = position.coords.longitude;
              document.getElementById("localizacao").innerHTML = 
                "Latitude: " + lat + "<br>Longitude: " + lon;
              
              const mapaDiv = document.getElementById("mapa");
              mapaDiv.innerHTML = `<iframe width="100%" height="350" 
                src="https://maps.google.com/maps?q=${lat},${lon}&z=15&output=embed" allowfullscreen loading="lazy"></iframe>`;
            }

            function showError(error) {
              let msg = "Erro ao obter localização.";
              if (error.code === 1) msg = "Permissão de localização negada.";
              else if (error.code === 2) msg = "Localização indisponível.";
              else if (error.code === 3) msg = "Tempo de solicitação excedido.";
              document.getElementById("localizacao").innerHTML = msg;
              document.getElementById("mapa").innerHTML = "";
            }

            const svg = `
            <svg width="200" height="100" viewBox="0 0 200 100" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="title desc">
                <title>Osso Branco</title>
                <desc>Ilustração simples de um osso branco com contorno cinza claro</desc>
                <style>
                    .bone-fill { fill: grey; }
                    .textologo { font-size: 30px; fill: #f9f9f9; }
                </style>
                <g>
                    <circle class="bone-fill bone-stroke" cx="40" cy="65" r="20"/>
                    <circle class="bone-fill bone-stroke" cx="40" cy="35" r="20"/>
                    <circle class="bone-fill bone-stroke" cx="160" cy="35" r="20"/>
                    <circle class="bone-fill bone-stroke" cx="160" cy="65" r="20"/>
                    <rect class="bone-fill bone-stroke" x="40" y="30" width="120" height="40" rx="20" ry="20"/>
                    <text class="textologo" x="100" y="60" text-anchor="middle">PetShop</text>
                </g>
            </svg>
            `;
            const canvas = document.getElementById('myCanvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            const svgBlob = new Blob([svg], { type: 'image/svg+xml;charset=utf-8' });
            const url = URL.createObjectURL(svgBlob);
            img.onload = function() {
                ctx.drawImage(img, 0, 0);
                URL.revokeObjectURL(url);
            };
            img.src = url;
        </script>
    
    </body>

</html>